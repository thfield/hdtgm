var presidents = ["George Washington","John Adams","Thomas Jefferson","James Madison","James Monroe","John Quincy Adams","Andrew Jackson","Martin Van Buren","William Henry Harrison","John Tyler","James K. Polk","Zachary Taylor","Millard Fillmore","Franklin Pierce","James Buchanan","Abraham Lincoln","Andrew Johnson","Ulysses S. Grant","Rutherford B. Hayes","James A. Garfield","Chester A. Arthur","Grover Cleveland","Benjamin Harrison","Grover Cleveland","William McKinley","Theodore Roosevelt","William Howard Taft","Woodrow Wilson","Warren G. Harding","Calvin Coolidge","Herbert Hoover","Franklin D. Roosevelt","Harry S. Truman","Dwight D. Eisenhower","John F. Kennedy","Lyndon B. Johnson","Richard Nixon","Gerald Ford","Jimmy Carter","Ronald Reagan","George H. W. Bush","Bill Clinton","George W. Bush","Barack Obama"];
var data =
{
  secretaryKey:{sec000:"John Adams",sec001:"Thomas Jefferson",sec002:"Edmund Randolph",sec003:"Timothy Pickering",sec004:"Samuel Dexter",sec005:"James Madison",sec006:"Robert Smith",sec007:"James Monroe",sec008:"Richard Rush",sec009:"William Crawford",sec010:"John Quincy Adams",sec011:"John Calhoun",sec012:"Martin Van Buren",sec013:"Lewis Cass",sec014:"Louis McLane",sec015:"Roger Taney",sec016:"Levi Woodbury",sec017:"John Crittenden",sec018:"Thomas Ewing",sec019:"John Spencer",sec020:"John Tyler",sec021:"Abel Upshur",sec022:"Daniel Webster",sec023:"John Mason",sec024:"James Buchanan",sec025:"William Marcy",sec026:"Isaac Toucey",sec027:"Millard Fillmore",sec028:"Jeremiah Black",sec029:"Joseph Holt",sec030:"Edwin Stanton",sec031:"Andrew Johnson",sec032:"Hugh McCulloch",sec033:"William Evarts",sec034:"Alphonso Taft",sec035:"John Sherman",sec036:"Chester Arthur",sec037:"James Blaine",sec038:"William Windom",sec039:"Walter Gresham",sec040:"Grover Cleveland",sec041:"William Vilas",sec042:"Richard Olney",sec043:"Elihu Root",sec044:"Philander Knox",sec045:"Theodore Roosevelt",sec046:"William Moody",sec047:"George Cortelyou",sec048:"Victor Metcalf",sec049:"William Taft",sec050:"Charles Bonaparte",sec051:"George von Lengerke Meyer",sec052:"Henry Stimson",sec053:"David Houston",sec054:"Calvin Coolidge",sec055:"Charles Dawes",sec056:"Herbert Hoover",sec057:"Hubert Work",sec058:"Henry Wallace",sec059:"James Forrestal",sec060:"Harry Truman",sec061:"George Marshall",sec062:"Richard Nixon",sec063:"William Rogers",sec064:"Maurice Stans",sec065:"Christian Herter",sec066:"Lyndon Johnson",sec067:"Marvin Watson",sec068:"George Shultz",sec069:"Elliot Richardson",sec070:"William Ruckelshaus",sec071:"Rogers Morton",sec072:"Caspar Weinberger",sec073:"Frederick Dent",sec074:"Gerald Ford",sec075:"Alexander Haig",sec076:"James Lynn",sec077:"James Schlesinger",sec078:"Donald Rumsfeld",sec079:"Dick Cheney",sec080:"Carla Hills",sec081:"Patricia Harris",sec082:"James Baker",sec083:"Bill Brock",sec084:"George H W Bush",sec085:"Donald Regan",sec086:"Donald Hodel",sec087:"Elizabeth Dole",sec088:"Clayton Yeutter",sec089:"Samuel Skinner",sec090:"Andrew Card",sec091:"Madeleine Albright",sec092:"Mickey Kantor",sec093:"Leon Panetta",sec094:"Federico Pena",sec095:"Robert Rubin",sec096:"Laura Tyson",sec097:"William Daley",sec098:"Bill Richardson",sec099:"Jack Lew",sec100:"Norman Mineta",sec101:"Joshua Bolten",sec102:"Mike Leavitt",sec103:"Rob Portman",sec104:"Sylvia Mathews Burwell",sec105:"Shaun Donovan"},
  adminWithRepeatSec:{"George Washington":[["sec000","Vice President"],["sec001","Secretary of State"],["sec002","Attorney General"],["sec002","Secretary of State"],["sec003","Postmaster General"],["sec003","Secretary of War"],["sec003","Secretary of State"],["sec004","Secretary of the Treasury"]],"John Adams":[["sec000","President"],["sec001","Vice President"],["sec004","Secretary of War"],["sec004","Secretary of the Treasury"]],"Thomas Jefferson":[["sec001","President"],["sec005","Secretary of State"],["sec006","Secretary of the Navy"],["sec006","Attorney General"]],"James Madison":[["sec005","President"],["sec006","Secretary of State"],["sec007","Secretary of State"],["sec007","Secretary of War"],["sec008","Attorney General"],["sec009","Secretary of War"],["sec009","Secretary of the Treasury"]],"James Monroe":[["sec007","President"],["sec008","Attorney General"],["sec009","Secretary of the Treasury"],["sec010","Secretary of State"],["sec011","Secretary of War"]],"John Quincy Adams":[["sec008","Secretary of the Treasury"],["sec010","President"],["sec011","Vice President"]],"Andrew Jackson":[["sec011","Vice President"],["sec012","Secretary of State"],["sec012","Vice President"],["sec013","Secretary of War"],["sec014","Secretary of the Treasury"],["sec014","Secretary of State"],["sec015","Attorney General"],["sec015","Secretary of the Treasury"],["sec016","Secretary of the Navy"],["sec016","Secretary of the Treasury"]],"John Tyler":[["sec011","Secretary of State"],["sec017","Attorney General"],["sec018","Secretary of the Treasury"],["sec019","Secretary of War"],["sec019","Secretary of the Treasury"],["sec020","President"],["sec021","Secretary of the Navy"],["sec021","Secretary of State"],["sec022","Secretary of State"],["sec023","Secretary of the Navy"]],"Martin Van Buren":[["sec012","President"],["sec016","Secretary of the Treasury"]],"James Buchanan":[["sec013","Secretary of State"],["sec024","President"],["sec026","Secretary of the Navy"],["sec028","Attorney General"],["sec028","Secretary of State"],["sec029","Postmaster General"],["sec029","Secretary of War"],["sec030","Attorney General"]],"Millard Fillmore":[["sec017","Attorney General"],["sec018","Secretary of the Interior"],["sec022","Secretary of State"],["sec027","President"]],"William Henry Harrison":[["sec017","Attorney General"],["sec018","Secretary of the Treasury"],["sec020","Vice President"],["sec022","Secretary of State"]],"Zachary Taylor":[["sec018","Secretary of the Interior"],["sec027","Vice President"]],"James K. Polk":[["sec023","Attorney General"],["sec023","Secretary of the Navy"],["sec024","Secretary of State"],["sec025","Secretary of War"],["sec026","Attorney General"]],"Franklin Pierce":[["sec025","Secretary of State"]],"Abraham Lincoln":[["sec030","Secretary of War"],["sec031","Vice President"],["sec032","Secretary of the Treasury"]],"Andrew Johnson":[["sec030","Secretary of War"],["sec031","President"],["sec032","Secretary of the Treasury"],["sec033","Attorney General"]],"Chester A. Arthur":[["sec032","Secretary of the Treasury"],["sec036","President"],["sec037","Secretary of State"],["sec038","Secretary of the Treasury"],["sec039","Postmaster General"],["sec039","Secretary of the Treasury"]],"Rutherford B. Hayes":[["sec033","Secretary of State"],["sec035","Secretary of the Treasury"]],"Ulysses S. Grant":[["sec034","Secretary of War"],["sec034","Attorney General"]],"William McKinley":[["sec035","Secretary of State"],["sec043","Secretary of War"],["sec045","Vice President"]],"James A. Garfield":[["sec036","Vice President"],["sec037","Secretary of State"],["sec038","Secretary of the Treasury"]],"Benjamin Harrison":[["sec037","Secretary of State"],["sec038","Secretary of the Treasury"]],"Grover Cleveland":[["sec039","Secretary of State"],["sec040","President"],["sec040","President"],["sec041","Postmaster General"],["sec041","Secretary of the Interior"],["sec042","Attorney General"],["sec042","Secretary of State"]],"Theodore Roosevelt":[["sec043","Secretary of War"],["sec043","Secretary of State"],["sec044","Attorney General"],["sec045","President"],["sec046","Secretary of the Navy"],["sec046","Attorney General"],["sec047","Secretary of Commerce and Labor"],["sec047","Postmaster General"],["sec047","Secretary of the Treasury"],["sec048","Secretary of Commerce and Labor"],["sec048","Secretary of the Navy"],["sec049","Secretary of War"],["sec050","Secretary of the Navy"],["sec050","Attorney General"],["sec051","Postmaster General"]],"William Howard Taft":[["sec044","Attorney General"],["sec044","Secretary of State"],["sec049","President"],["sec051","Secretary of the Navy"],["sec052","Secretary of War"]],"Herbert Hoover":[["sec052","Secretary of State"],["sec056","President"]],"Franklin D. Roosevelt":[["sec052","Secretary of War"],["sec058","Secretary of Agriculture"],["sec058","Vice President"],["sec058","Secretary of Commerce"],["sec059","Secretary of the Navy"],["sec060","Vice President"]],"Harry S. Truman":[["sec052","Secretary of War"],["sec058","Secretary of Commerce"],["sec059","Secretary of the Navy"],["sec059","Secretary of Defense"],["sec060","President"],["sec061","Secretary of State"],["sec061","Secretary of Defense"]],"Woodrow Wilson":[["sec053","Secretary of Agriculture"],["sec053","Secretary of the Treasury"]],"Warren G. Harding":[["sec054","Vice President"],["sec055","Director of the Office of Management and Budget"],["sec056","Secretary of Commerce"],["sec057","Postmaster General"],["sec057","Secretary of the Interior"]],"Calvin Coolidge":[["sec054","President"],["sec055","Vice President"],["sec056","Secretary of Commerce"],["sec057","Secretary of the Interior"]],"Dwight D. Eisenhower":[["sec062","Vice President"],["sec063","Attorney General"],["sec064","Director of the Office of Management and Budget"],["sec065","Secretary of State"]],"Richard Nixon":[["sec062","President"],["sec063","Secretary of State"],["sec064","Secretary of Commerce"],["sec068","Secretary of Labor"],["sec068","Director of the Office of Management and Budget"],["sec068","Secretary of the Treasury"],["sec069","Secretary of Health Education and Welfare"],["sec069","Secretary of Defense"],["sec069","Attorney General"],["sec070","Administrator of the Environmental Protection Agency"],["sec071","Secretary of the Interior"],["sec072","Director of the Office of Management and Budget"],["sec072","Secretary of Health Education and Welfare"],["sec073","Secretary of Commerce"],["sec074","Vice President"],["sec075","White House Chief of Staff"],["sec076","Secretary of Housing and Urban Development"],["sec077","Secretary of Defense"]],"John F. Kennedy":[["sec065","Trade Representative"],["sec066","Vice President"]],"Lyndon B. Johnson":[["sec065","Trade Representative"],["sec066","President"],["sec067","White House Chief of Staff"],["sec067","Postmaster General"]],"Ronald Reagan":[["sec068","Secretary of State"],["sec070","Administrator of the Environmental Protection Agency"],["sec072","Secretary of Defense"],["sec075","Secretary of State"],["sec082","White House Chief of Staff"],["sec082","Secretary of the Treasury"],["sec083","Trade Representative"],["sec083","Secretary of Labor"],["sec084","Vice President"],["sec085","Secretary of the Treasury"],["sec085","White House Chief of Staff"],["sec086","Secretary of Energy"],["sec086","Secretary of the Interior"],["sec087","Secretary of Transportation"],["sec088","Trade Representative"]],"Gerald Ford":[["sec069","Secretary of Commerce"],["sec071","Secretary of the Interior"],["sec071","Secretary of Commerce"],["sec072","Secretary of Health Education and Welfare"],["sec073","Secretary of Commerce"],["sec073","Trade Representative"],["sec074","President"],["sec075","White House Chief of Staff"],["sec076","Secretary of Housing and Urban Development"],["sec076","Director of the Office of Management and Budget"],["sec077","Secretary of Defense"],["sec078","White House Chief of Staff"],["sec078","Secretary of Defense"],["sec079","White House Chief of Staff"],["sec080","Secretary of Housing and Urban Development"]],"Jimmy Carter":[["sec077","Secretary of Energy"],["sec081","Secretary of Housing and Urban Development"],["sec081","Secretary of Health Education and Welfare"],["sec081","Secretary of Health and Human Services"]],"George W. Bush":[["sec078","Secretary of Defense"],["sec079","Vice President"],["sec090","White House Chief of Staff"],["sec100","Secretary of Transportation"],["sec101","Director of the Office of Management and Budget"],["sec101","White House Chief of Staff"],["sec102","Administrator of the Environmental Protection Agency"],["sec102","Secretary of Health and Human Services"],["sec103","Trade Representative"],["sec103","Director of the Office of Management and Budget"]],"George H. W. Bush":[["sec079","Secretary of Defense"],["sec080","Trade Representative"],["sec082","Secretary of State"],["sec082","White House Chief of Staff"],["sec084","President"],["sec087","Secretary of Labor"],["sec088","Secretary of Agriculture"],["sec089","Secretary of Transportation"],["sec089","White House Chief of Staff"],["sec090","Secretary of Transportation"]],"Bill Clinton":[["sec091","Ambassador to the United Nations"],["sec091","Secretary of State"],["sec092","Trade Representative"],["sec092","Secretary of Commerce"],["sec093","Director of the Office of Management and Budget"],["sec093","White House Chief of Staff"],["sec094","Secretary of Transportation"],["sec094","Secretary of Energy"],["sec095","Director of the National Economic Council"],["sec095","Secretary of the Treasury"],["sec096","Chairperson of the Council of Economic Advisers"],["sec096","Director of the National Economic Council"],["sec097","Secretary of Commerce"],["sec098","Ambassador to the United Nations"],["sec098","Secretary of Energy"],["sec099","Director of the Office of Management and Budget"],["sec100","Secretary of Commerce"]],"Barack Obama":[["sec093","Secretary of Defense"],["sec097","White House Chief of Staff"],["sec099","Director of the Office of Management and Budget"],["sec099","White House Chief of Staff"],["sec099","Secretary of the Treasury"],["sec104","Director of the Office of Management and Budget"],["sec104","Secretary of Health and Human Services"],["sec105","Secretary of Housing and Urban Development"],["sec105","Director of the Office of Management and Budget"]]},
  repeatSecretaries:{sec000:[["Vice President",1],["President",2]],sec001:[["Secretary of State",1],["Vice President",2],["President",3]],sec002:[["Attorney General",1],["Secretary of State",1]],sec003:[["Postmaster General",1],["Secretary of War",1],["Secretary of State",1]],sec004:[["Secretary of War",2],["Secretary of the Treasury",1],["Secretary of the Treasury",2]],sec005:[["Secretary of State",3],["President",4]],sec006:[["Secretary of the Navy",3],["Secretary of State",4],["Attorney General",3]],sec007:[["Secretary of State",4],["Secretary of War",4],["President",5]],sec008:[["Attorney General",4],["Attorney General",5],["Secretary of the Treasury",6]],sec009:[["Secretary of War",4],["Secretary of the Treasury",4],["Secretary of the Treasury",5]],sec010:[["Secretary of State",5],["President",6]],sec011:[["Secretary of War",5],["Vice President",6],["Vice President",7],["Secretary of State",10]],sec012:[["Secretary of State",7],["Vice President",7],["President",8]],sec013:[["Secretary of War",7],["Secretary of State",15]],sec014:[["Secretary of the Treasury",7],["Secretary of State",7]],sec015:[["Attorney General",7],["Secretary of the Treasury",7]],sec016:[["Secretary of the Navy",7],["Secretary of the Treasury",8],["Secretary of the Treasury",7]],sec017:[["Attorney General",13],["Attorney General",9],["Attorney General",10]],sec018:[["Secretary of the Treasury",9],["Secretary of the Treasury",10],["Secretary of the Interior",13],["Secretary of the Interior",12]],sec019:[["Secretary of War",10],["Secretary of the Treasury",10]],sec020:[["Vice President",9],["President",10]],sec021:[["Secretary of the Navy",10],["Secretary of State",10]],sec022:[["Secretary of State",13],["Secretary of State",9],["Secretary of State",10]],sec023:[["Secretary of the Navy",10],["Attorney General",11],["Secretary of the Navy",11]],sec024:[["Secretary of State",11],["President",15]],sec025:[["Secretary of War",11],["Secretary of State",14]],sec026:[["Attorney General",11],["Secretary of the Navy",15]],sec027:[["Vice President",12],["President",13]],sec028:[["Attorney General",15],["Secretary of State",15]],sec029:[["Postmaster General",15],["Secretary of War",15]],sec030:[["Attorney General",15],["Secretary of War",16],["Secretary of War",17]],sec031:[["Vice President",16],["President",17]],sec032:[["Secretary of the Treasury",21],["Secretary of the Treasury",16],["Secretary of the Treasury",17]],sec033:[["Attorney General",17],["Secretary of State",19]],sec034:[["Secretary of War",18],["Attorney General",18]],sec035:[["Secretary of the Treasury",19],["Secretary of State",25]],sec036:[["Vice President",20],["President",21]],sec037:[["Secretary of State",23],["Secretary of State",20],["Secretary of State",21]],sec038:[["Secretary of the Treasury",23],["Secretary of the Treasury",20],["Secretary of the Treasury",21]],sec039:[["Postmaster General",21],["Secretary of the Treasury",21],["Secretary of State",24]],sec040:[["President",22],["President",24]],sec041:[["Postmaster General",24],["Secretary of the Interior",22]],sec042:[["Attorney General",22],["Secretary of State",22]],sec043:[["Secretary of War",26],["Secretary of War",25],["Secretary of State",26]],sec044:[["Attorney General",26],["Attorney General",27],["Secretary of State",27]],sec045:[["Vice President",25],["President",26]],sec046:[["Secretary of the Navy",26],["Attorney General",26]],sec047:[["Secretary of Commerce and Labor",26],["Postmaster General",26],["Secretary of the Treasury",26]],sec048:[["Secretary of Commerce and Labor",26],["Secretary of the Navy",26]],sec049:[["Secretary of War",26],["President",27]],sec050:[["Secretary of the Navy",26],["Attorney General",26]],sec051:[["Postmaster General",26],["Secretary of the Navy",27]],sec052:[["Secretary of War",27],["Secretary of State",31],["Secretary of War",32],["Secretary of War",33]],sec053:[["Secretary of Agriculture",28],["Secretary of the Treasury",28]],sec054:[["Vice President",29],["President",30]],sec055:[["Director of the Office of Management and Budget",29],["Vice President",30]],sec056:[["Secretary of Commerce",29],["Secretary of Commerce",30],["President",31]],sec057:[["Postmaster General",29],["Secretary of the Interior",29],["Secretary of the Interior",30]],sec058:[["Secretary of Agriculture",32],["Vice President",32],["Secretary of Commerce",32],["Secretary of Commerce",33]],sec059:[["Secretary of the Navy",32],["Secretary of the Navy",33],["Secretary of Defense",33]],sec060:[["Vice President",32],["President",33]],sec061:[["Secretary of State",33],["Secretary of Defense",33]],sec062:[["Vice President",34],["President",37]],sec063:[["Attorney General",34],["Secretary of State",37]],sec064:[["Director of the Office of Management and Budget",34],["Secretary of Commerce",37]],sec065:[["Secretary of State",34],["Trade Representative",35],["Trade Representative",36]],sec066:[["Vice President",35],["President",36]],sec067:[["White House Chief of Staff",36],["Postmaster General",36]],sec068:[["Secretary of Labor",37],["Director of the Office of Management and Budget",37],["Secretary of the Treasury",37],["Secretary of State",40]],sec069:[["Secretary of Health Education and Welfare",37],["Secretary of Defense",37],["Attorney General",37],["Secretary of Commerce",38]],sec070:[["Administrator of the Environmental Protection Agency",40],["Administrator of the Environmental Protection Agency",37]],sec071:[["Secretary of the Interior",37],["Secretary of the Interior",38],["Secretary of Commerce",38]],sec072:[["Director of the Office of Management and Budget",37],["Secretary of Health Education and Welfare",37],["Secretary of Health Education and Welfare",38],["Secretary of Defense",40]],sec073:[["Secretary of Commerce",37],["Secretary of Commerce",38],["Trade Representative",38]],sec074:[["Vice President",37],["President",38]],sec075:[["White House Chief of Staff",37],["White House Chief of Staff",38],["Secretary of State",40]],sec076:[["Secretary of Housing and Urban Development",37],["Secretary of Housing and Urban Development",38],["Director of the Office of Management and Budget",38]],sec077:[["Secretary of Defense",37],["Secretary of Defense",38],["Secretary of Energy",39]],sec078:[["White House Chief of Staff",38],["Secretary of Defense",38],["Secretary of Defense",43]],sec079:[["White House Chief of Staff",38],["Secretary of Defense",41],["Vice President",43]],sec080:[["Secretary of Housing and Urban Development",38],["Trade Representative",41]],sec081:[["Secretary of Housing and Urban Development",39],["Secretary of Health Education and Welfare",39],["Secretary of Health and Human Services",39]],sec082:[["White House Chief of Staff",40],["Secretary of the Treasury",40],["Secretary of State",41],["White House Chief of Staff",41]],sec083:[["Trade Representative",40],["Secretary of Labor",40]],sec084:[["Vice President",40],["President",41]],sec085:[["Secretary of the Treasury",40],["White House Chief of Staff",40]],sec086:[["Secretary of Energy",40],["Secretary of the Interior",40]],sec087:[["Secretary of Transportation",40],["Secretary of Labor",41]],sec088:[["Trade Representative",40],["Secretary of Agriculture",41]],sec089:[["Secretary of Transportation",41],["White House Chief of Staff",41]],sec090:[["Secretary of Transportation",41],["White House Chief of Staff",43]],sec091:[["Ambassador to the United Nations",42],["Secretary of State",42]],sec092:[["Trade Representative",42],["Secretary of Commerce",42]],sec093:[["Director of the Office of Management and Budget",42],["White House Chief of Staff",42],["Secretary of Defense",44]],sec094:[["Secretary of Transportation",42],["Secretary of Energy",42]],sec095:[["Director of the National Economic Council",42],["Secretary of the Treasury",42]],sec096:[["Chairperson of the Council of Economic Advisers",42],["Director of the National Economic Council",42]],sec097:[["Secretary of Commerce",42],["White House Chief of Staff",44]],sec098:[["Ambassador to the United Nations",42],["Secretary of Energy",42]],sec099:[["Director of the Office of Management and Budget",42],["Director of the Office of Management and Budget",44],["White House Chief of Staff",44],["Secretary of the Treasury",44]],sec100:[["Secretary of Commerce",42],["Secretary of Transportation",43]],sec101:[["Director of the Office of Management and Budget",43],["White House Chief of Staff",43]],sec102:[["Administrator of the Environmental Protection Agency",43],["Secretary of Health and Human Services",43]],sec103:[["Trade Representative",43],["Director of the Office of Management and Budget",43]],sec104:[["Director of the Office of Management and Budget",44],["Secretary of Health and Human Services",44]],sec105:[["Secretary of Housing and Urban Development",44],["Director of the Office of Management and Budget",44]]}
}
var colorbrewer = {Greys: {
  3: ["#f0f0f0","#bdbdbd","#636363"],
  4: ["#f7f7f7","#cccccc","#969696","#525252"],
  5: ["#f7f7f7","#cccccc","#969696","#636363","#252525"],
  6: ["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],
  7: ["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],
  8: ["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],
  9: ["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]
  }
}
function chartRole(pageId, role){
  //TODO make function more reusable: http://bost.ocks.org/mike/chart/
  //TODO roll data file into more standard form, maybe array of objects with episode key?

  var xIds = presidents,
      xNames = presidents;

  var radius = 4,
      rem = 12;

  var repeatRoles = 'repeatSecretaries',
      moviesWithRepeatRoles = 'adminWithRepeatSec',
      roleKey = 'secretaryKey',
      h = 500;

  var margin = {top: 20, right: 20, bottom: 20, left: 20},
      width = (xIds.length*(2*radius+4)) - margin.left - margin.right,
      height =  h - margin.top - margin.bottom;

  var y = d3.scale.ordinal()
      .range( [ 2*height/3, 2*height/3 - 2*radius, 2*height/3 - 2*radius, 2*height/3 - 2*radius] )
      .domain(['title', 'secretary']);

  var x = d3.scale.ordinal()
      .range( xIds.map(function(d,i){ return ( ((i+1) * width) / (xIds.length) + rem/2 ) + 4 }) )
      .domain( xIds );

  var xAxis = d3.svg.axis()
      .scale(x)
      .orient('bottom');

  var yAxis = d3.svg.axis()
      .scale(y)
      .orient('left');

  var svgM = d3.select(pageId).append('svg')
      .attr('width', width + margin.left + margin.right)
      .attr('height', height + margin.top + margin.bottom)
    .append('g')
      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

  svgM.append('text')
      .attr('class', 'namebox');

  svgM.append('g').attr('class', 'titles').selectAll('.title')
      .data(xNames)
    .enter().append('text')
      .attr('class', function(d,i) { return 'title admin' + (i+1); })
      .attr('transform', function(d) { return 'translate(' + x(d) + ',' + y("title")  + ')rotate(90)'})
      .attr('text-anchor', 'start')
      .text(function(d){ return d });

  var circles = svgM.append('g').attr('class', 'circles');

  for (var movie in data[moviesWithRepeatRoles] ){
    circles.selectAll('.circle')
        .data( data[moviesWithRepeatRoles][movie] )
      // .enter().append('text')
      .enter().append('circle')
        .attr('class', function(d) { return role + ' ' + d[0]; })
        .attr("cy", function(d, i) { return y(role) - 3 * radius * i; })
        .attr("cx", function(d) { return (x(movie)+radius ); })
        .attr("fill", function(d) { return colorbrewer['Greys'][5][data[repeatRoles][d[0]].length]; })
        .attr("r", radius)
        .on("mouseover", highlight )
        .on("mouseout", unhighlight );
  }
  function highlight(){
    var thisclass = d3.select(this).datum()[0],
      thisoffice = d3.select(this).datum()[1];
    d3.select(pageId + ' .namebox')
      .text(data[roleKey][thisclass] + ' - ' + thisoffice );
    d3.selectAll('.' + thisclass).classed("active", true).transition().attr('r', 2*radius);
    data[repeatRoles][thisclass].forEach(function(d){ d3.select(pageId + ' .admin' + d[1]).classed("active", true) });

  }
  function unhighlight(){
    var thisclass = d3.select(this).datum()[0];
    d3.select(pageId + ' .namebox').text('');
    d3.selectAll('.' + thisclass).classed("active", false).transition().attr('r', radius);
    data[repeatRoles][thisclass].forEach(function(d){ d3.select(pageId + ' .admin' + d[1]).classed("active", false) });
  }
}

chartRole('#cabinet-chart','secretary');
